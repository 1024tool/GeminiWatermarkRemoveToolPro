# âœ¨ Gemini Watermark Remover Pro (v1.0)

[![Go Version](https://img.shields.io/badge/Go-1.20+-00ADD8?style=flat&logo=go)](https://golang.org/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
<p align="center">
  [English] | <a href="./README_ZH.md">ç®€ä½“ä¸­æ–‡</a> | <a href="./README_JA.MD">æ—¥æœ¬èª</a>
</p>
**Gemini Watermark Remover Pro** is a local tool designed to remove the semi-transparent watermark that appears in the bottom-right corner of images generated by Google Gemini (Imagen 2/3).

It combines a high-performance Go backend with a modern HTML5/JS frontend and employs an advanced three-stage NCC detection algorithm to intelligently detect, precisely locate, and restore image details with minimal loss.

---

## ğŸš€ Key Features

- **ğŸ¨ Dual workflow modes**:
  - **Interactive Mode**: Supports manual interaction. If the automatic detection is inaccurate, you can drag the red box to correct it and instantly compare before/after results.
  - **Batch Mode**: Drag multiple images at once; they will be queued and processed automatically for efficiency.
- **ğŸ§  Intelligent NCC Detection**:
  - Uses a three-stage weighted scoring: Spatial correlation, Gradient edge matching, and Variance statistical analysis.
  - Effectively distinguishes white backgrounds and complex textures, dramatically reducing false positives.
- **ğŸ›¡ï¸ Privacy & Security**:
  - All computations are performed locally in memory.
  - No image uploads to the cloud; your creations stay private.
- **ğŸ‘ï¸ High-quality Lossless Comparison**:
  - Built-in 4K lightbox preview.
  - Supports â€œpress-to-compareâ€ for pixel-level restoration inspection.
- **ğŸŒ Localization & Customization**:
  - Multi-language support: Chinese (CN), English (EN), æ—¥æœ¬èª (JA). Auto-detects browser language.
  - Multiple themes: Dark, Light, Cyberpunk, Deep Ocean, Forest, etc.

---
## âœ¨ Demo
### ğŸ–Œï¸ **Watermark Removal Demo**
[![use](https://github.com/1024tool/GeminiWatermarkRemoveToolPro/blob/main/GeminiRemoverToolPro.gif?raw=true)]()

### ğŸ¨ **Language & Theme Settings Demo**
[![use](https://github.com/1024tool/GeminiWatermarkRemoveToolPro/blob/main/Language-theme.gif?raw=true)]()

## ğŸ“Š Comparison
[![use](https://github.com/1024tool/GeminiWatermarkRemoveToolPro/blob/main/Compare.png?raw=true)]()
---

## ğŸ› ï¸ Installation & Run

### 1. Requirements
Ensure you have [Go (Golang)](https://go.dev/dl/) installed.

### 2. Directory structure
The tool depends on specific mask files and static assets. Ensure the structure is:

```text
ProjectRoot/
â”œâ”€â”€ main.go                # main program
â”œâ”€â”€ language/              # language packs
â”‚   â”œâ”€â”€ zh-cn.json
â”‚   â”œâ”€â”€ en.json
â”‚   â””â”€â”€ ja.json
â””â”€â”€ assets/                # assets directory
    â”œâ”€â”€ index.html         # frontend UI
    â”œâ”€â”€ favicon.ico        # favicon
    â”œâ”€â”€ bg_48.png          # [important] 48px watermark mask
    â””â”€â”€ bg_96.png          # [important] 96px watermark mask
```

### 3. Run or build

Direct run:
```bash
go run main.go
```

Build standalone binary (recommended):
```bash
# Windows
go build -o GeminiRemover.exe main.go

# macOS / Linux
go build -o GeminiRemover main.go
```

After starting, the program will open the default browser at `http://localhost:8080`.

---

## ğŸ“– Usage Guide

### 1. UI Overview
- Top bar: language selector, threshold slider, theme switch.
- Detection Threshold:
  - Default is **25%**.
  - Lower the threshold if watermark is missed.
  - Raise the threshold if normal areas are being mistakenly altered.

### 2. Single Mode (Fine-tune)
1. Click upload or drag a single image in.
2. The program auto-detects the watermark and marks it with a **red box**.
   - Shows confidence (e.g., \`Conf: 95%\`).
   - Manual correction: drag the red box if detection is wrong.
3. Click **â€œâœ¨ Remove Watermarkâ€**.
4. After removal, use **â€œğŸ‘ï¸ Toggle Compareâ€** or **â€œğŸ‘† Press-to-Compareâ€** to inspect.
5. Download when satisfied.

### 3. Batch Mode
1. Switch to the â€œBatch Queueâ€ tab.
2. Drag multiple images at once.
3. Images are processed according to the set threshold:
   - **Green**: successfully detected and removed.
   - **Yellow**: confidence below threshold; skipped to avoid damaging the original.
4. Click thumbnails in the list to view details.
5. Click **â€œâ¬‡ï¸ Download Allâ€** to save results.

---

## ğŸ”¬ Technical Principles

### 1. Reverse Alpha Blending
Geminiâ€™s watermark is composed by:
Pixel_final = Pixel_orig * (1 - Î±) + White * Î±.
Knowing the watermark alpha mask, we reverse the operation:
$$Pixel_{orig} = \frac{Pixel_{final} - 255 \times \alpha}{1 - \alpha}$$

### 2. Three-Stage Detection Logic
We use a weighted scoring system to confirm watermark existence and location:
- Stage 1 (50%): Spatial NCC comparing brightness with mask alpha.
- Stage 2 (30%): Gradient NCC using Sobel edges to match watermark edges.
- Stage 3 (20%): Statistical analysis to down-weight pure or overexposed regions which may cause false positives.

---

## ğŸ“ FAQ

Q: Why does it show "Skipped (Low Confidence)"?
A: The program thinks the region is unlikely to be a watermarkâ€”background too noisy or watermark too faint. Try reducing the threshold slider and retry in Single Mode.

Q: Why is there some noise after removal?
A: This is a mathematical artifact of reverse restoration. When Î± is high (strong watermark), original pixel information is heavily lost, amplifying reconstruction error.

Q: What image formats are supported?
A: `.jpg`, `.jpeg`, `.png`.

---

## âš–ï¸ Disclaimer

This tool is for technical research and personal learning only. Do not use it to infringe copyrights or for illegal purposes. Image copyrights remain with the original creators.

---

Â© 2026 Gemini Watermark Remover Tool Pro.
